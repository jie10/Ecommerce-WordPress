function nasa_render_shipping_in_cart(e){e("#shipping_method.hide-check-shipping li").length&&e("#shipping_method.hide-check-shipping li").each(function(){var o=e(this);!e(o).hasClass("active")&&e(o).find('select.shipping_method, input[name^="shipping_method"][type="radio"]:checked, input[name^="shipping_method"][type="hidden"]').length&&e(o).addClass("active")})}function nasa_update_shipping_methods(e){if(e(".shipping-wrap-modern").length&&e(".order-shipping-modern").length){var o="",a=!1,n="";e(".shipping-wrap-modern").each(function(){var i=e(this);if(e(i).find("#shipping_method").length){var r=e(i).find(".shipping-package-name").html();o+='<tr class="woocommerce-shipping-totals shipping">',o+="<th>"+r+"</th>",o+="<td>",o+='<ul id="shipping_method_clone" class="woocommerce-shipping-methods-clone">',e(i).find("#shipping_method li").each(function(){var i=e(this);if(e(i).find('select.shipping_method, input[name^="shipping_method"][type="radio"]:checked, input[name^="shipping_method"][type="hidden"]').length){var r=i.clone();e(r).find('select.shipping_method, input[name^="shipping_method"][type="radio"]:checked, input[name^="shipping_method"][type="hidden"]').remove(),n=e(r).html(),o+="<li>"+n+"</li>",a=!0}}),o+="</ul>",o+="</td></tr>"}else e("#nasa-billing-info .customer-info-method").remove()}),a&&(e(".order-shipping-modern").replaceWith(o),e("#nasa-billing-info .customer-info-method .customer-info-right").html(n))}e(".woocommerce-checkout-review-order-table").addClass("nasa-loaded")}function nasa_move_valiate_notices(e){var o=!1;e(".woocommerce-error li").length&&(e(".woocommerce-error li").each(function(){var a=e(this),n=e(a).attr("data-id");if("undefined"!=typeof n&&e("#"+n).length){var i=e("#"+n).parents(".form-row");if(e(i).length){var r=e(a).html();e(i).find(".nasa-error").length?e(i).find(".nasa-error").html(r):e("#"+n).after('<span class="nasa-error">'+r+"</span>"),e(i).hasClass("woocommerce-invalid")||(e(i).removeClass("woocommerce-validated"),e(i).addClass("woocommerce-invalid")),e(a).remove(),o=!0}}}),e(".woocommerce-error li").length?e(".woocommerce-error").show():e(".woocommerce-error").hide(),o&&e(".nasa-bc-modern .nasa-billing-step").length&&e(".nasa-bc-modern .nasa-billing-step").trigger("click"))}function nasa_validate_form_checkout(e){var o=e("form.checkout");if(e(o).length<=0)return!1;var a=e(o).find('[name="ship_to_different_address"]').is(":checked")?!0:!1,n=a?e(o).find("#customer_details"):e(o).find(".woocommerce-billing-fields");return e(n).find(".form-row").each(function(){nasa_validate_field(e,this)}),e(n).find(".nasa-invalid, .nasa-error").length?!1:!0}function nasa_validate_field(e,o){var a=e(o).find(".input-text, select, input:checkbox"),n=!0,i=e(o).is(".validate-required"),r=e(o).is(".validate-email"),t=e(o).is(".validate-phone"),s="",c="";return e(o).removeClass("nasa-invalid"),i&&("checkbox"!==a.attr("type")||a.is(":checked")?""===a.val()&&(e(o).removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field"),n=!1,e(o).find(".nasa-error").length<=0&&(c=e(".nasa-require-notice").html(),e(a).after('<span class="nasa-error">'+c+"</span>"))):(e(o).removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field"),n=!1,e(o).find(".nasa-error").length<=0&&(c=e(".nasa-require-notice").html(),e(a).after('<span class="nasa-error">'+c+"</span>")))),r&&a.val()&&(s=new RegExp(/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i),s.test(a.val())||(e(o).removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-email woocommerce-invalid-phone"),n=!1,e(o).find(".nasa-error").length<=0&&(c=e(".nasa-email-notice").html(),e(a).after('<span class="nasa-error">'+c+"</span>")))),t&&(s=new RegExp(/[\s\#0-9_\-\+\/\(\)\.]/g),0<a.val().replace(s,"").length&&(e(o).removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-phone"),n=!1,e(o).find(".nasa-error").length<=0&&(c=e(".nasa-phone-notice").html(),e(a).after('<span class="nasa-error">'+c+"</span>")))),n?e(o).removeClass("woocommerce-invalid woocommerce-invalid-required-field woocommerce-invalid-email woocommerce-invalid-phone").addClass("woocommerce-validated"):e(o).addClass("nasa-invalid"),n}function nasa_clone_notices_coupon(e){var o=e(".woocommerce-error, .woocommerce-message");e(o).length&&(e(".woocommerce-error, .woocommerce-message").each(function(){var o=e(this);e(".coupon-clone-wrap").after(o)}),e(".woocommerce-error, .woocommerce-message").show())}var _apply_coupon=!1;jQuery(document).ready(function(e){"use strict";e("#main-content .form-row input, #main-content .form-row select, #main-content .form-row textarea").length&&e("#main-content .form-row input, #main-content .form-row select, #main-content .form-row textarea").each(function(){var o=e(this),a=e(o).parents("form.woocommerce-EditAccountForm").length?!0:!1,n=e(o).parents(".form-row"),i=e(o).val();if(e(n).length&&e(n).hasClass("validate-required")&&e(n).find("label[for]").length){var r=e(o).attr("placeholder");if(r){var t=e(n).find("label[for] .required").length?e(n).find("label[for] .required").text():"*";e(o).attr("placeholder",r+" "+t)}}if((""!==i||a)&&e(n).length&&e(n).find("label[for]").length){var s=e(n).find("label[for]").attr("for");e(n).find('input[type="hidden"]#'+s+', input[type="radio"]#'+s+', input[type="checkbox"]#'+s).length<=0?e(n).hasClass("nasa-actived")||e(n).addClass("nasa-actived"):e(n).hasClass("nasa-dffr")||e(n).addClass("nasa-dffr")}}),e("body").on("keyup","#main-content .form-row input, #main-content .form-row textarea",function(){var o=e(this),a=e(o).parents(".form-row");if(e(a).length&&!e(a).hasClass("nasa-dffr")&&e(a).find("label[for]").length)if(""!==e(o).val())e(a).hasClass("nasa-actived")||e(a).addClass("nasa-actived"),e(a).find(".nasa-error").length&&e(a).find(".nasa-error").remove();else{var n=e(o).parents("form.woocommerce-EditAccountForm").length?!0:!1;n||e(a).removeClass("nasa-actived")}}),e("body").on("change","#main-content .form-row select",function(){var o=e(this),a=e(o).parents(".form-row");if(e(a).length&&!e(a).hasClass("nasa-dffr")&&e(a).find("label[for]").length)if(""!==e(o).val())e(a).hasClass("nasa-actived")||e(a).addClass("nasa-actived"),e(a).find(".nasa-error").length&&e(a).find(".nasa-error").remove();else{var n=e(o).parents("form.woocommerce-EditAccountForm").length?!0:!1;n||e(a).removeClass("nasa-actived")}}),nasa_move_valiate_notices(e),e("body").on("checkout_error",function(){nasa_move_valiate_notices(e)}),e("body").on("applied_coupon_in_checkout",function(){nasa_move_valiate_notices(e),e(".shipping-wrap-modern").length&&(e(".woocommerce-error, .woocommerce-message").hide(),_apply_coupon=!0)}),e("body").on("removed_coupon_in_checkout",function(){e(".shipping-wrap-modern").length&&(e(".woocommerce-error, .woocommerce-message").hide(),_apply_coupon=!0)}),e("body").on("click",".showcoupon",function(){e(".woocommerce-error").length&&e(".woocommerce-error").hide()}),e("body").on("click",".nasa-shipping-step",function(){if(!e(".nasa-bc-modern .nasa-shipping-step").hasClass("active")){e("body").trigger("nasa_update_custommer_info");var o=nasa_validate_form_checkout(e);o&&(e("body").trigger("nasa_update_custommer_info"),e(".woocommerce-additional-fields").fadeIn(200),e("#nasa-billing-info").fadeIn(200),e("#nasa-shipping-methods").fadeIn(200),e("#nasa-step_payment").fadeIn(200),e(".woo-billing").hide(),e("#nasa-step_billing").hide(),e("#nasa-payment-wrap").hide(),e(".woocommerce-form-login-toggle").length&&(e(".woocommerce-form-login-toggle").hide(),e(".woocommerce-form-login").hide()),e(".nasa-bc-modern .nasa-billing-step").removeClass("active"),e(".nasa-bc-modern .nasa-shipping-step").addClass("active"),e(".nasa-bc-modern .nasa-payment-step").removeClass("active"))}}),e("body").on("click",".nasa-payment-step",function(){if(!e(".nasa-bc-modern .nasa-payment-step").hasClass("active")){var o=nasa_validate_form_checkout(e);o&&(e("body").trigger("nasa_update_custommer_info"),e("#nasa-payment-wrap").fadeIn(200),e("#nasa-billing-info").fadeIn(200),e(".woocommerce-additional-fields").hide(),e(".woo-billing").hide(),e("#nasa-shipping-methods").hide(),e("#nasa-step_payment").hide(),e("#nasa-step_billing").hide(),e(".woocommerce-form-login-toggle").length&&(e(".woocommerce-form-login-toggle").hide(),e(".woocommerce-form-login").hide()),e("#nasa-billing-info .customer-info").removeClass("hidden-tag"),e(".nasa-bc-modern .nasa-billing-step").removeClass("active"),e(".nasa-bc-modern .nasa-shipping-step").removeClass("active"),e(".nasa-bc-modern .nasa-payment-step").addClass("active"))}}),e("body").on("click",".nasa-billing-step",function(){e(".nasa-bc-modern .nasa-billing-step").hasClass("active")||(e("body").trigger("nasa_update_custommer_info"),e(".woo-billing").fadeIn(200),e("#nasa-step_billing").fadeIn(200),e(".woocommerce-form-login-toggle").length&&e(".woocommerce-form-login-toggle").fadeIn(200),e(".woocommerce-additional-fields").hide(),e("#nasa-billing-info").hide(),e("#nasa-shipping-methods").hide(),e("#nasa-step_payment").hide(),e("#nasa-payment-wrap").hide(),e(".nasa-bc-modern .nasa-billing-step").addClass("active"),e(".nasa-bc-modern .nasa-shipping-step").removeClass("active"),e(".nasa-bc-modern .nasa-payment-step").removeClass("active"))}),e("body").on("click",".showcoupon-clone",function(){e(".coupon-clone-wrap").toggleClass("hidden-tag"),e(".coupon-clone-wrap").find(":input:eq(0)").trigger("focus")}),e("body").on("click","#apply_coupon_clone",function(){if(e('input[name="coupon_code_clone"]').length&&e('form.checkout_coupon input[name="coupon_code"]').length){e(".woocommerce-error, .woocommerce-message").hide();var o=e('input[name="coupon_code_clone"]').val();e('form.checkout_coupon input[name="coupon_code"]').val(o).change(),e("form.checkout_coupon").trigger("submit"),e(".woocommerce-checkout-review-order").addClass("processing")}}),e("body").on("change",'select.shipping_method, input[name^="shipping_method"], #ship-to-different-address input, .update_totals_on_change select, .update_totals_on_change input[type="radio"], .update_totals_on_change input[type="checkbox"]',function(){e(".checkout-modern-wrap").length&&!e(".woocommerce-checkout-review-order").hasClass("processing")&&e(".woocommerce-checkout-review-order").addClass("processing")}),e("body").on("nasa_update_custommer_info",function(){if(e("body").trigger("update_checkout"),e("#nasa-billing-info").length){var o=e('input[name="billing_email"]').val();e("#nasa-billing-info .customer-info-email .customer-info-right").html(o)}}),e("body").on("update_checkout",function(){}),e("body").on("updated_checkout",function(){if(e(".checkout-modern-wrap").length){if(e(".processing").removeClass("processing"),nasa_update_shipping_methods(e),e(".checkout-modern-wrap .woocommerce-additional-fields").length&&e("#nasa-shipping-methods").length){var o=e(".checkout-modern-wrap .woocommerce-additional-fields").clone();e(".checkout-modern-wrap .woocommerce-additional-fields").remove(),e("#nasa-shipping-methods").after(o)}_apply_coupon&&(nasa_clone_notices_coupon(e),e(".woocommerce-error").length&&e(".coupon-clone-wrap").length&&e(".coupon-clone-wrap").find(":input:eq(0)").trigger("focus")),_apply_coupon=!1}}),e("body").on("click",".your-order-mobile",function(){e(".checkout-modern-right-wrap").length&&!e(".checkout-modern-right-wrap").hasClass("nasa-active")&&e(".checkout-modern-right-wrap").addClass("nasa-active")}),e("body").on("click",".close-your-order-mobile",function(){e(".checkout-modern-right-wrap").length&&e(".checkout-modern-right-wrap").removeClass("nasa-active")}),nasa_render_shipping_in_cart(e),e("body").on("updated_wc_div",function(){nasa_render_shipping_in_cart(e)})});