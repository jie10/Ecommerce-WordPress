function popup_registration_dokan(e){var a={init:function(){var a=e("form.register");e(".user-role input[type=radio]",a).on("change",this.showSellerForm),e(".tc_check_box",a).on("click",this.onTOC),e("#shop-phone",a).keydown(this.ensurePhoneNumber),e("#company-name",a).on("focusout",this.generateSlugFromCompany),e("#seller-url",a).keydown(this.constrainSlug),e("#seller-url",a).keyup(this.renderUrl),e("#seller-url",a).on("focusout",this.checkSlugAvailability),this.validationLocalized()},validate:function(){e("form.register").validate({errorPlacement:function(a,t){var r=e(t).closest(".form-group");r.addClass("has-error").append(a)},success:function(a,t){e(t).closest(".form-group").removeClass("has-error")},submitHandler:function(e){e.submit()}})},showSellerForm:function(){var a=e(this).val();"seller"===a?(e(".show_if_seller").find("input, select").removeAttr("disabled"),e(".show_if_seller").slideDown(),e(".tc_check_box").length>0&&e("button[name=register]").attr("disabled","disabled")):(e(".show_if_seller").find("input, select").attr("disabled","disabled"),e(".show_if_seller").slideUp(),e(".tc_check_box").length>0&&e("button[name=register]").removeAttr("disabled"))},onTOC:function(){e(this).val();e(this).prop("checked")?(e("input[name=register]").removeAttr("disabled"),e("button[name=register]").removeAttr("disabled"),e("input[name=dokan_migration]").removeAttr("disabled")):(e("input[name=register]").attr("disabled","disabled"),e("button[name=register]").attr("disabled","disabled"),e("input[name=dokan_migration]").attr("disabled","disabled"))},ensurePhoneNumber:function(a){-1!==e.inArray(a.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==a.keyCode&&a.ctrlKey===!0||a.keyCode>=35&&a.keyCode<=39||(a.shiftKey||a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105)&&a.preventDefault()},generateSlugFromCompany:function(){var a=e(this).val();a||(a=""),a=decodeURIComponent(a),e("#seller-url").val(a),e("#url-alart").text(a),e("#seller-url").focus()},constrainSlug:function(a){e(this).val();-1!==e.inArray(a.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==a.keyCode&&a.ctrlKey===!0||a.keyCode>=35&&a.keyCode<=39||(a.shiftKey||(a.keyCode<65||a.keyCode>90)&&(a.keyCode<48||a.keyCode>57))&&(a.keyCode<96||a.keyCode>105)&&a.preventDefault()},checkSlugAvailability:function(){var a=e(this),t={action:"shop_url",url_slug:a.val(),_nonce:dokan.nonce};if(""!==a.val()){var r=a.closest(".form-row");r.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),e.post(dokan.ajaxurl,t,function(a){a.success===!0?(e("#url-alart").removeClass("text-danger").addClass("text-success"),e("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)):(e("#url-alart").removeClass("text-success").addClass("text-danger"),e("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)),r.unblock()})}},renderUrl:function(){e("#url-alart").text(e(this).val())},validationLocalized:function(){var a=DokanValidateMsg;a.maxlength=e.validator.format(a.maxlength_msg),a.minlength=e.validator.format(a.minlength_msg),a.rangelength=e.validator.format(a.rangelength_msg),a.range=e.validator.format(a.range_msg),a.max=e.validator.format(a.max_msg),a.min=e.validator.format(a.min_msg),e.validator.messages=a}};if(e('input[name="nasa-caching-enable"]').length&&"1"===e('input[name="nasa-caching-enable"]').val())e("body").on("nasa_after_load_static_content",function(){if(e("#nasa-login-register-form form.register").length){a.init(),e(".show_if_seller").find("input, select").attr("disabled","disabled");var t=e(".woocommerce ul").hasClass("woocommerce-error")&&!e(".show_if_seller").is(":hidden");if(t){var r=e("form.register");e(".user-role input[type=radio]",r).trigger("change")}e(".tc_check_box").length>0&&(e("input[name=dokan_migration]").attr("disabled","disabled"),e("input[name=register]").attr("disabled","disabled"))}});else if(e("#nasa-login-register-form form.register").length){a.init(),e(".show_if_seller").find("input, select").attr("disabled","disabled");var t=e(".woocommerce ul").hasClass("woocommerce-error")&&!e(".show_if_seller").is(":hidden");if(t){var r=e("form.register");e(".user-role input[type=radio]",r).trigger("change")}e(".tc_check_box").length>0&&(e("input[name=dokan_migration]").attr("disabled","disabled"),e("input[name=register]").attr("disabled","disabled"))}}jQuery(document).ready(function(e){"use strict";if(e(".nasa-login-register-ajax").length&&e("#nasa-login-register-form").length&&"undefined"!=typeof dokan&&"undefined"!=typeof DokanValidateMsg&&popup_registration_dokan(e),e("body").on("nasa_login_register_ajax_inited",function(){e(".nasa-login-register-ajax").length&&e("#nasa-login-register-form").length&&"undefined"!=typeof dokan&&"undefined"!=typeof DokanValidateMsg&&popup_registration_dokan(e)}),e(".dokan-store-sidebar").length&&e(".dokan-single-store").length&&(e("body").prepend('<a class="toggle-sidebar-dokan hidden-tag" href="javascript:void(0);"><i class="nasa-icon pe7-icon pe-7s-menu"></i></a>'),e(".dokan-store-sidebar").prepend('<a href="javascript:void(0);" class="hidden-tag nasa-close-sidebar"></a>'),e("body").on("click",".toggle-sidebar-dokan",function(){e(".black-window").fadeIn(200),e(".dokan-store-sidebar").hasClass("nasa-active")||e(".dokan-store-sidebar").addClass("nasa-active")})),e("#wpadminbar").length){var a=e(".nasa-check-reponsive.nasa-switch-check").length&&1===e(".nasa-check-reponsive.nasa-switch-check").width()?!0:!1,t=e("body").hasClass("nasa-in-mobile")?!0:!1;if(a||t){var r=e("#wpadminbar").height();e(".dokan-store-sidebar").length&&e(".dokan-single-store").length&&e(".dokan-store-sidebar").css({top:r})}}});