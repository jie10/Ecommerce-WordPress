function nasa_init_compare_images(a){a(".nasa-compare-images").length&&a(".nasa-compare-images").each(function(){var e=a(this);a(e).hasClass("nasa-inited")||(a(e).find("img").each(function(){var e=a(this).attr("data-lazy-src");e&&(a(this).attr("src",e),a(this).removeAttr("data-lazy-src"),a(this).removeAttr("data-lazy-srcset"),a(this).removeAttr("data-lazy-sizes"),a(this).removeAttr("srcset"),a(this).removeClass("lazyloading"))}),a(e).addClass("nasa-inited"),a(e).imagesCompare())})}!function(a,e){"use strict";function t(a,e){return String.prototype.repeat?a.repeat(e):(e=e||1,new Array(e+1).join(a))}function n(n,o){function s(){function e(){r>=i&&c()}var t=n.find("img"),i=t.length,r=0;t.each(function(){a(this)[0].complete?(i--,e()):(a(this).on("load",function(){r++,e()}),a(this).on("error",function(){r++,e()}))})}function c(){v(),x(),u(),a(A).attr("ratio",o.initVisibleRatio),M(o.initVisibleRatio),n.trigger({type:I.initialised})}function d(){a(e).on("resize",function(a){A.css("clip",""),x(),M(V),n.trigger({type:I.resized,originalEvent:a})})}function u(){switch(o.interactionMode=o.interactionMode.toLowerCase(),"drag"!=o.interactionMode&&"mousemove"!=o.interactionMode&&"click"!=o.interactionMode&&console.warn('No valid interactionMode found, valid values are "drag", "mousemove", "click"'),o.interactionMode){case"drag":m();break;case"mousemove":f();break;case"click":p();break;default:m()}}function m(){"undefined"==typeof Hammer&&console.error("Please include the hammerjs library for drag support"),l(),d()}function f(){h(),d()}function p(){g(),d()}function g(){n.on("click",function(a){var e=_(a.pageX);M(e)})}function h(){var a=0,e=1;n.on("mousemove",function(t){t.preventDefault();var n=Date.now();if(n>a+e){a=n;var i=_(t.pageX);M(i)}}),n.on("mouseout",function(a){var e=_(a.pageX);M(e)})}function l(){var a=new Hammer(n[0]);a.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),a.on("pan",function(a){var e=_(a.srcEvent.pageX);M(e)})}function v(){n.addClass("images-compare-container"),n.css("display","inline-block"),A=n.find("> *:nth-child(1)"),F=n.find("> *:nth-child(2)"),A.addClass("images-compare-before"),A.css("display","block"),F.addClass("images-compare-after"),F.css("display","block"),o.addDragHandle&&w(),o.addSeparator&&y()}function y(){n.prepend("<div class='images-compare-separator'></div>"),R=n.find(".images-compare-separator")}function w(){n.prepend("<div class='images-compare-handle'></div>"),S=n.find(".images-compare-handle"),S.append("<span class='images-compare-left-arrow'></span>"),S.append("<span class='images-compare-right-arrow'></span>")}function x(){var a=F.find("img").first();k(a.width(),a.height(),a.naturalWidth(),a.naturalHeight()),n.css("max-width",W.maxWidth+"px"),n.css("max-height",W.maxHeight+"px"),A.width(W.width),A.height(W.height)}function _(a){return C((a-n.offset().left)/A.width())}function C(a){return a=Math.round(a*o.roundFactor)/o.roundFactor,a>1&&(a=1),0>a&&(a=0),a}function b(e,t,i,r){a(A).attr("ratio",e).animate({ratio:e},{duration:0}),a(A).stop().attr("ratio",e).animate({ratio:t},{duration:i,easing:r,step:function(a){var e=H(a);V=a,A.attr("ratio",a).css("clip","rect(0, "+e+"px, "+W.height+"px, 0)"),o.addSeparator&&R.css("left",e+"px"),o.addDragHandle&&S.css("left",e+"px")},done:function(e,t){var i=a(A).attr("ratio");n.trigger({type:I.changed,ratio:i,value:H(i),animate:!0,animation:e,jumpedToEnd:t})}})}function H(a){return a=Math.round(a*o.roundFactor)/o.roundFactor,Math.round(A.width()*a)}function M(e,t,i,r){"undefined"==typeof t&&(t=!1);var s=H(e);if(t){var c=i?i:o.animationDuration,d=r?r:o.animationEasing;return b(V,e,c,d),V!=e&&n.trigger({type:I.changed,ratio:V,value:s,animate:t}),void 0}A.stop().css("clip","rect(0, "+s+"px, "+W.height+"px, 0)"),o.addSeparator&&a(R).stop().css("left",s+"px"),o.addDragHandle&&S.css("left",s+"px"),V!=e&&n.trigger({type:I.changed,ratio:e,value:s,animate:t}),V=e}function k(a,e,t,n){return"undefined"!=typeof a&&z(a),"undefined"!=typeof e&&E(e),"undefined"!=typeof t&&D(t),"undefined"!=typeof n&&j(n),W}function z(a){return W.width=a,W}function D(a){return W.maxWidth=a,W}function E(a){return W.height=a,W}function j(a){return W.maxHeight=a,W}n=a(n),o=a.extend({},r,o),o.roundFactor=parseInt("1"+t("0",o.precision)),this._name=i;var A,F,R,S,V=1,W={width:0,height:0,maxWidth:0,maxHeight:0},I={initialised:"imagesCompare:initialised",changed:"imagesCompare:changed",resized:"imagesCompare:resized"};return s(),{setValue:function(a,e,t,i){return M(a,e,t,i),n},getValue:function(){return V},on:function(a,e){return n.on(a,e),n},off:function(a,e){return n.off(a,e),n},events:function(){return I}}}var i="imagesCompare",r={initVisibleRatio:.5,interactionMode:"drag",animationDuration:400,animationEasing:"swing",addSeparator:!0,addDragHandle:!0,precision:4};a.fn.imagesCompare=function(e){var t=a.extend(r,e);return this.each(function(){a.data(this,i)||a.data(this,i,new n(this,t))})}}(jQuery,window,document),function(a){var e,t,n=["Width","Height"];t=n.length;for(var i=0;t>i;i++)e=n[i],function(e,t){a.fn[e]=e in document.createElement("img")?function(){return this[0][e]}:function(){var a,e=this[0],n=0;return"img"===e.tagName.toLowerCase()&&(a=document.createElement("img"),a.src=e.src,n=a[t]),n}}("natural"+e,e.toLowerCase())}(jQuery),jQuery(document).ready(function(a){"use strict";nasa_init_compare_images(a),a("body").on("nasa_init_compare_images",function(){nasa_init_compare_images(a)}),a("body").on("nasa_rendered_template",function(){nasa_init_compare_images(a)})});